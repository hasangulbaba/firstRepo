<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="site_theme.css">
<style>
body  {
    background-image: url("https://spycep.com/wp-content/uploads/android-telefon-dinleme-spycep-arka-plan-3.jpg");
}
</style>
<body style="background-color:#808080;">
<title>admin</title>
<script src="database.js"></script>
<nav>

    <ul class="nav">
      <li><a href="https://hasangulbaba.github.io/firstRepo/ileriProje/deneme.html" style="float:initial;">ANASAYFA</a></li>
      <li><a href="admin.html">ADMİN</a></li>
      <li><a href="https://hasangulbaba.github.io/firstRepo/ileriProje/hizliErisim.html">HIZLI ERİŞİM</a></li>
      <li><a href="https://hasangulbaba.github.io/firstRepo/ileriProje/kitaplar.html">Kitapları Görüntüle</a></li>
      <li><a href="https://hasangulbaba.github.io/firstRepo/ileriProje/iletisim.html">İletişim</a></li>
      <li><a href="https://hasangulbaba.github.io/firstRepo/ileriProje/dikkat.html">Dikkat</a></li>
    </ul>
  </nav><br>
<center>
<h1>ADMİN GİRİŞ SAYFASI<h1/>
<center>

<tr style="text-align:left;">
   <form>
  <br>
  <tr style="text-align:left;">
   <th><text style="font-weight:bold;text-align:left; ">Kullanıcı Adı:</text></th>
   <th><input type=text id=kullanıcıAd></th> 
  </tr>
  </br>
  Şifrenizi Girin: <input type="password" name="pwd" id="sifre" maxlength="8" color:white;><br>
  E-mails: <input type="email" name="emailaddress" >
    </form>
 </tr>
  
<div style="border: 2px solid orange; margin-left: 170px;margin-right: 170px; margin-top: 50px; margin-bottom: 50px;"><h4>YAPMAK İSTEDİĞİNİZ İŞLEMİ SEÇİNİZ</h4></div>
<button onclick="kitapEkle()">Envantere Kitap Ekle</button>
<button onclick="kitapcıkar()">Envanterden Kitap çıkar</button>



 
 <form style="text-align: center;">
  id:<input type="number" id="id" name="quantity" min="1" >


 
  <tr style="text-align:left;">
   <th><text style="font-weight:bold;text-align:left; ">Kitap Adı:</text></th>
   <th><input type=text id=kitapAd></th> 
  </tr>
   <tr style="text-align:left;">
   <th><text style="font-weight:bold;text-align:left; ">Yazar:</text></th>
   <th><input type=text id=yazar></th> 
  </tr>
   <tr style="text-align:left;">
   <th><text style="font-weight:bold;text-align:left;">Tür:</text></th>
   <th><input type=text id=tur></th> 
  </tr>
</form>


<script>
const database = new Database();
const url = "https://hasangulbaba.github.io/firstRepo/ileriProje/text_files/";

function readData(file) {
    console.log("readData "+file);
    if(file.includes("sifre.txt")) {
      fetch(url+file)
          .then(r => r.text())
          .then(getSifre).then(kitapEkle).then(addKitap);
    }
    else {
	console.log("File could not find.")
    }
}

function parse(line) {
    let b = line.split("\t");
    return b;
}
function addKitap(txt) {
    let a = txt.split("\n");
    
	for (let s of a) {
		let std = parse(s);
		database.kitap.set(std[0],[std[1],std[2],std[3]]); //kitap adı,yazar,tür
		
	}
}
readData("kitaplar.txt");
readData("sifre.txt");

let dizi=[];
function getSifre(txt) {
    let a = txt.split("\n");
	dizi.push(a);
	return dizi;
}

function kitapEkle(){
	if(sifre.value == dizi[0]){
		for(b of database.kitap.keys()){
			if(b == id.value){//aynı id eklenemez
				window.alert("Aynı id'ye Sahip Kitap Bulunmaktadır,İd'yi Değiştiriniz!");
				break;
			}
			else{window.alert("Kitabınız Başarılı Bir Şekilde Eklenmiştir !");}
		}
		
	}
}

</script>





</body>
</html>
